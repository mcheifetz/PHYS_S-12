<!DOCTYPE html>
<html lang="en">
<head>
  <title>Final Project: Mini Piano </title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script> 
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/arduino-light.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/arduino.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <link href="../style.css" rel="stylesheet">
</head>

<body align = "center">
<div class = "container-fluid">
  <h3>Final Project: Mini Piano</h3> <br> 
  <div class = "row">
    
    <div class = "col-md-12">
      <p><a href = '../index.html'>Home</a></p>

      <br>

      <h4><b><u>Video Demonstration</u>:</b></h4>
      <p></p>

      <div>
        <video controls style = "width:25%; min-width:150px"><source src = "./FinalPianoVid.mp4" type = "video/mp4"></video>
      </div>

      <br>
    </div>

    <div class = "col-md-12">
      <h4><b><u>Why I Chose This Project</u>:</b></h4>
      <p>Not only do I love music, but I've played piano ever since I was five years old. It's one of my favorite hobbies. So when I was thinking of ideas for my final project, a piano was one of the first things I brainstormed. I talked with Nathan, Victoria, and Rob, and I was thrilled when they all told me my idea was plausible. I originally wanted to just have the keys press down on some buttons, but I soon realized that would be too tedious and not really display how much I've learned throughout this course. So I decided to use copper tape to sense touch, which was a significantly better idea. In the end, I'm really glad about how well it turned out. But in the planning phase, I had no idea how much work this piano would really require.</p>

      <br>
    </div>

    <div class = "col-md-12">
      <h4><b><u>How It Works</u>:</b></h4>

      <p></p>

      <br>

    </div>

    <div class = "col-md-12">
      <h4><b><u>Designing the Components</u>:</b></h4>

      <p>The first part of the process was to design the piano's components in Fusion 360. Below is information about how I designed each component.</p>

      <h5><b>The Keys:</b></h5>
      
      <p>The first thing I did was find <a href = https://www.thingiverse.com/thing:17772>this</a> set of piano keys on Thingiverse. I originally thought it would be best to 3D print the full models of my keys, but after an initial design, it turned out that the print would take over <i>18 hours</i>. After talking to Nathan and Victoria, we decided it would be best to laser cut them instead. That's where my new designs began. I took the original key design from Thingiverse and retraced it to give me more design freedom. This was a necessary step since I imported the keys as a mesh body, which was extrememly difficult to edit, plus it wouldn't work for laser cutting. Once I had the keys traced, I was ready to export the design to be laser cut. Here's how the final design turned out.</p>

      <iframe src="https://students8326.autodesk360.com/shares/public/SH56a43QTfd62c1cd9682338b96108dcd63c?mode=embed" width="640" height="480" allowfullscreen="true" webkitallowfullscreen="true" mozallowfullscreen="true" frameborder="0"></iframe>

      <p>However, I needed to split up the black keys and white keys for laser cutting, as they would be cut in different colors. While designing the keys, I had made the white keys their own sketch and the black keys their own sketch. From there, I exported each as a .dxf file to prepare them for laser cutting. Here is the .dxf files for the piano keys:</p>

      <ul>
        <li>White keys DXF: <a download href = './White_Keys.dxf'>White Keys</a></li>
        <li>Black keys DXF: <a download href = './Black_Keys.dxf'>Black Keys</a></li>
      </ul>

      <p>With the keys done, it was time to move onto designing my next component.</p>

      <br>

      <h5><b>The Box:</b></h5>
      
      <p>I knew that I would need a box to fit all of my wires, the metro, the buzzer, and the buttons. During one of our class meetings, someone mentioned using a website to automatically create a box that came ready to be laser cut. I inquired about this and Nathan directed me to <a href = "https://en.makercase.com/#/basicbox">Makercase</a>, where I input the dimensions for my box. Since my piano keys totaled 165 mm in length and my Metro microcontroller was about 54 mm wide, I inputted the dimensions for my box as 165 mm x 25.5 mm x 62 mm. Once that was finalized, I downloaded it as a .svg and inserted it into Fusion 360. At this point, I had to add some additional things to the box. On the front face, I added twelve 1.5 mm holes for each piece of copper tape (1 piece of tape per key). And on the top face, I added a circular hole in the middle for the buzzer, and two square holes on either side of the buzzer for the buttons. Once that was completed, the design was finished. Here's how the final design looked:</p>

      <iframe src="https://students8326.autodesk360.com/shares/public/SH56a43QTfd62c1cd96823206ae6f81adfed?mode=embed" width="640" height="480" allowfullscreen="true" webkitallowfullscreen="true" mozallowfullscreen="true"  frameborder="0"></iframe>

      <p>At this point, I was ready to laser cut the box. I exported it as a .dxf and sent it over to the instructors. Here is the .dxf file for the box:</p>

      <ul>
        <li>Box DXF: <a download href = './Box_Final.dxf'>Box</a></li>
      </ul>

      <p>Now that the box was finished, I moved onto the next component of my project.</p>

      <br>

      <h5><b>The Microcontroller Holder Pins:</b></h5>
      
      <p>I remembered from watching the <a href = "https://www.youtube.com/watch?v=E0bhdr84FNU">arduino enclosure tutorial</a> for homework one class that it's better to not let your microcontroller touch the ground. However, since I don't know the exact dimensions of where the holes are on the metro, I decided it would be best to 3D print the pins and attach the via hot glue later. I first measured the diameter of the metro's holes, which was 3.2 mm. Following along with the tutorial, I first sketched a circle that was 2.8 mm (again, allowing for some wiggle room). I then extruded that 20 mm. Next, I made another sketch, this time with a circle that was 3.2 mm, the dimension of the holes in the microcontroller. This was so that I could fit it through the smaller cylinder and have it rest on this larger one. I then extruded that 4 mm, per the tutorial's suggestion. Once the whole thing was extruded, I chamfered the top of the pins to allow the microcontroller to easily slide on. Once I finished these pins, I added in hollow cylinders (that I have resting on top of the metro) for the other pins to slide into, preventing the microcontroller from falling out. Here's the final design for the pins:</p>

      <iframe src="https://students8326.autodesk360.com/shares/public/SH56a43QTfd62c1cd9681826077fb4dec8ba?mode=embed" width="640" height="480" allowfullscreen="true" webkitallowfullscreen="true" mozallowfullscreen="true"  frameborder="0"></iframe>

      <p>Here are the links to the microcontroller holder pins files:
      <ul>
        <li><a download href = './Microcontroller_Holder_Pins-v5.stl'>STL file (.stl)</a></li>
        <li><a download href = './Microcontroller_Holder_Pins-v5_0.15mm_PLA_MK3S_27m.gcode'>Sliced gcode file (.gcode)</a></li>
      </ul>
      </p>

      <p>With the pins completed, I had one small component left to design.</p>

      <br>

      <h5><b>The Platform:</b></h5>

      <p>Since each key was being cut individually, I knew that I needed a platform on which I would glue all of the keys. This was a very simple design, as it was just a rectangle long and wide enough to fit the keys. Since I knew the keys totaled 165 mm and each key was 88.2 mm wide, I made the dimensions of the platform 165.5 mm x 88.7 mm to allow for some wiggle room. Here's how the design turned out:</p>

      <iframe src="https://students8326.autodesk360.com/shares/public/SH56a43QTfd62c1cd968a7d22f0e5b896ddf?mode=embed" width="640" height="480" allowfullscreen="true" webkitallowfullscreen="true" mozallowfullscreen="true"  frameborder="0"></iframe>

      <p>At this point, I was ready to laser cut the box. I exported it as a .dxf, which can be found below:</p>
      <ul>
        <li>Platform DXF: <a download href = './Platform.dxf'>Platform</a></li>
      </ul>

      <br>
    </div>


    <div class = "col-md-12">
      <h4><b><u>Designing the Circuit</u>:</b></h4>

      <p>The next part of my project was designing the circuit. I thought it would be easy to just plug in the copper tape but soon realized it was much more complicated that that. Since each piece of tape needs to connect to a charge pin and a sense pin, it seemed like I would need 24 pins for the 12 pieces of tape, plus an additional three pins for the buzzer and buttons. This was a big issue: the Metro only has 20 pins (0-13, A0-A5). I talked to Nathan, and he told me that it was possible to wire multiple pieces of tape to one charge pin. I knew I would need to solder wires together to do so, and I'll explain more about that in the Build Process section. To make sure I knew how the circuit would work, I made a preliminary sketch consisting of just two keys that shows how they connect to one charge pin. The wire from the tape, a resistor, and another wire are saudered togehter at a connected point. The additional wire is then connected directly to the key's send pin. Next, the resistor is soldered to another wire. The two wires soldered to the resitors connect together and are soldered with a final wire which then connects to the charge pin. Doing this enabled me to reduce the number of pins I needed, which was very helpful. The circuit sketch looked like this:</p>

      <div>
        <img src = "./PrelimSketch.png" class = "img-responsive margin" style = "float: left; width: 40%; padding: 5px" height = "550" alt = "PrelimSketch">
      </div>
    </div>

    <div class = "col-md-12">
      <p>With the circuit sketch completed, I knew how the entire thing would be wired. But I had two things left to decide: 1) How many keys would be connected to one charge pin and 2) Which wire would go to each pin. I started by thinking about how many keys I should connect to each charge pin. I knew that I had a total of 20 pins, 12 of which were send pins for the keys and 3 of which were for the buzzer and buttons, leaving me with 5. Since I had 12 pieces of tape, I decided to split them up into groups of 3 and have 4 charge pins, as I didn't want to have to solder too many wires together, which could've been risky. Next, I wanted to write out where each wire would be plugged in before I started building to make the wiring easier. I decided that since I was going to have a large amount of wires, it would be best if I positioned the metro so that pins 0-13 were facing away from the keys (more about that in the Build Proecess section). Once I had that figured out, I wrote a list of where each wire would connect. This was the final list: </p>

      <div>
        <img src = "./PinsSketch.png" class = "img-responsive margin" style = "float: left; width: 35%; padding: 5px" height = "400" alt = "PinsSketch">
      </div>
    </div>

    <div class = "col-md-12">
      <p>At this point, I knew how the whole circuit would work, and it was time for the hardest part: building and wiring the piano.</p>

      <br>
    </div>


    <div class = "col-md-12">
      <h4><b><u>The Build/Wiring Process</u>:</b></h4>

      <p>Building and wiring the entire piano was the longest and most difficult part of the entire project. Beacuse of that, I've broken this section up into smaller subsections to better explain the whole process.</p>

      <h5><b>Attaching the keys:</b></h5>

      <p>The first thing I did for building my piano was gluing the keys onto the platform. Initially, I sketched out in pencil how I would glue each key down. Once that was done, I used my hot glue gun to glue the keys. Below is a picture of the gluing just over halfway through and then another at the end.</p>

      <div>
        <img src = "./KeysAndPlatform1.png" class = "img-responsive margin" style = "float: left; width: 35%; padding: 5px" height = "400" alt = "KeysAndPlatform1">
        <img src = "./KeysAndPlatform2.png" class = "img-responsive margin" style = "float: left; width: 35%; padding: 5px" height = "400" alt = "KeysAndPlatform2">

      </div>
    </div>

    <div class = "col-md-12">
      <p>Once I finished gluing down the keys, I decided to test my circuit with only 3 keys to make sure it worked before committing to all twelve keys.</p>

      <br>

      <h5><b>Testing Three Keys:</b></h5>

      <p>Testing my circuit with just three keys required me to solder wires together, something I've never done before. I talked to Nathan, Rob, and Victoria beforehand to get some tips on how to solder, and then I watched <a href = "https://www.youtube.com/watch?v=Qps9woUGkvI">this</a> tutorial on how to solder. Luckily, my grandfather is a retired engineer, so I used his old soldering iron that I found in my basement.</p>

      <br>
    </div>


    <div class = "col-md-12">
      <h4><b><u>The Code</u>:</b></h4>

      <p></p>

      <br>
    </div>


    <div class = "col-md-12">
      <h4><b><u>What I Learned</u>:</b></h4>

      <p></p>

      <br>
    </div>

  </div>
</div>

</body>
</html>